# Phase III.2 å®Ÿé¨“çµæœå ±å‘Šæ›¸

**Date:** 2026-01-17
**Updated:** 2026-01-19ï¼ˆå½æˆåŠŸå•é¡Œã®è¿½è¨˜ï¼‰
**Author:** beachcities + Claude + Gemini + Copilot

---

## æ¦‚è¦

Phase III.2 ã§ã¯ã€Tromp-Taylor ãƒ«ãƒ¼ãƒ«ã¸ã®ç§»è¡Œã¨ Value Head ã®è¿½åŠ ã«ã‚ˆã‚Šã€å­¦ç¿’åŠ¹ç‡ã®åŠ‡çš„ãªæ”¹å–„ã‚’é”æˆã—ãŸã€‚

**ä¸»è¦æˆæœ:**
- Policy Loss: 5.94 â†’ **3.58** (40% å‰Šæ¸›)
- Value Loss: 0.32 â†’ **0.06** (81% å‰Šæ¸›)
- å­¦ç¿’é€Ÿåº¦: 3.1 â†’ **15.6 g/s** (5å€å‘ä¸Š)
- 10,000 ã‚²ãƒ¼ãƒ ã®å­¦ç¿’ã‚’ **10.7 åˆ†** ã§å®Œäº†

> âš ï¸ **2026-01-19 è¿½è¨˜**: ä¸Šè¨˜ã¯ã€ŒæˆåŠŸç‰ˆã€ã®æ•°å€¤ã€‚Win Rate 0% ã§ã‚ã‚Šã€Œãƒ‘ã‚¹é€£æ‰“ã«ã‚ˆã‚‹å½æˆåŠŸã€ã®ç–‘ã„ãŒç™ºè¦šã€‚è©³ç´°ã¯ã€Œ8. å½æˆåŠŸå•é¡Œã¨å¯¾ç­–ã€ã‚’å‚ç…§ã€‚

---

## 1. èƒŒæ™¯ã¨èª²é¡Œ

### 1.1 Phase III.1 ã®çŠ¶æ³

Phase III.1 ã§ã¯ TesseraModelï¼ˆMamba + Tesseract Fieldï¼‰ã‚’çµ±åˆã—ã€é€£ã®æ•ç²å‡¦ç†ã‚’ GPU ã§å®Ÿè£…ã—ã‚ˆã†ã¨ã—ã¦ã„ãŸã€‚

**èª²é¡Œ:**
- é€£æ¤œå‡ºã® Python ãƒ«ãƒ¼ãƒ—ãŒãƒœãƒˆãƒ«ãƒãƒƒã‚¯
- å­¦ç¿’é€Ÿåº¦ãŒ 3.1 g/s ã§é ­æ‰“ã¡
- Policy Loss ãŒ 5.9 ä»˜è¿‘ã§åœæ»

### 1.2 è»¢æ›ç‚¹

ã€Œæ„å‘³ã®ã‚ã‚‹ã“ã¨ã‚’ã—ã¾ã—ã‚‡ã†ã€ã¨ã„ã†å•ã„ã‹ã‚‰ã€æ ¹æœ¬çš„ãªå†æ¤œè¨ã‚’å®Ÿæ–½ã€‚

**ç™ºè¦‹:**
- é€£ã®æ•ç²å‡¦ç†ãŒ GPU sovereignty ã‚’ç ´å£Šã—ã¦ã„ãŸ
- è¤‡é›‘ãªãƒ«ãƒ¼ãƒ«å®Ÿè£…ã‚ˆã‚Šã€å­¦ç¿’ä¿¡å·ï¼ˆå‹æ•—ï¼‰ã®æ˜ç¢ºåŒ–ãŒé‡è¦
- Tromp-Taylor ãƒ«ãƒ¼ãƒ«ãªã‚‰æ•ç²ãƒ­ã‚¸ãƒƒã‚¯è‡ªä½“ãŒä¸è¦

---

## 2. å®Ÿè£…å†…å®¹

### 2.1 Tromp-Taylor ãƒ«ãƒ¼ãƒ«æ¡ç”¨

| å¤‰æ›´å‰ | å¤‰æ›´å¾Œ |
|--------|--------|
| é€£ã®æ¤œå‡ºãƒ»æ•ç² | æ•ç²ãªã— |
| è¤‡é›‘ãªã‚³ã‚¦åˆ¤å®š | çœç•¥å¯èƒ½ |
| Python ãƒ«ãƒ¼ãƒ—å¤šæ•° | **ãƒ«ãƒ¼ãƒ—ã‚¼ãƒ­** |

### 2.2 Value Head è¿½åŠ 
```python
self.value_head = nn.Sequential(
    nn.Linear(d_model, d_model // 2),
    nn.ReLU(),
    nn.Linear(d_model // 2, 1),
    nn.Tanh()  # [-1, +1]
)
```

### 2.3 GPU åœ°è¨ˆç®— (chain_utils.py)

Conv2d ã«ã‚ˆã‚‹ flood-fill ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã€çµ‚å±€æ™‚ã®åœ°ã‚’ GPU å†…ã§è¨ˆç®—ã€‚

---

## 3. å®Ÿé¨“çµæœï¼ˆæˆåŠŸç‰ˆï¼‰

> âš ï¸ **æ³¨æ„**: ä»¥ä¸‹ã¯ã€ŒæˆåŠŸç‰ˆã€ã®çµæœã€‚å½æˆåŠŸã®ç–‘ã„ã‚ã‚Šã€‚

### 3.1 å­¦ç¿’æ›²ç·š
```
Game   128 | Loss: 6.10 (P:5.94 V:0.32) | Speed:  9.3 g/s
Game  1024 | Loss: 5.97 (P:5.93 V:0.08) | Speed: 11.8 g/s
Game  3000 | Loss: 5.93 (P:5.91 V:0.05) | Speed: 10.9 g/s
Game  5000 | Loss: 5.93 (P:5.91 V:0.04) | Speed: 10.9 g/s
----- ç›¸è»¢ç§» -----
Game  6000 | Loss: 5.84 (P:5.82 V:0.04) | Speed: 10.9 g/s
Game  7000 | Loss: 5.08 (P:5.06 V:0.04) | Speed: 12.0 g/s
Game  8000 | Loss: 4.21 (P:4.19 V:0.05) | Speed: 13.8 g/s
Game  9000 | Loss: 3.97 (P:3.94 V:0.06) | Speed: 14.5 g/s
Game 10000 | Loss: 3.58 (P:3.56 V:0.06) | Speed: 15.6 g/s
```

### 3.2 ç›¸è»¢ç§»ã®è¦³å¯Ÿ

6,000 ã‚²ãƒ¼ãƒ ä»˜è¿‘ã§**ç›¸è»¢ç§»ï¼ˆPhase Transitionï¼‰**ãŒç™ºç”Ÿã€‚

**ç‰¹å¾´:**
- Policy Loss ãŒæ€¥æ¿€ã«é™ä¸‹ï¼ˆ5.9 â†’ 3.5ï¼‰
- å­¦ç¿’é€Ÿåº¦ã‚‚åŒæ™‚ã«å‘ä¸Šï¼ˆ10.9 â†’ 15.6 g/sï¼‰
- ã‚²ãƒ¼ãƒ ãŒåŠ¹ç‡åŒ–ï¼ˆç„¡é§„ãªæ‰‹ãŒæ¸›å°‘ï¼‰

> âš ï¸ **2026-01-19 è¿½è¨˜**: ã“ã®ã€Œç›¸è»¢ç§»ã€ã¯ã€Œãƒ‘ã‚¹é€£æ‰“ã‚’å­¦ç¿’ã—ãŸã€å½ã®ç›¸è»¢ç§»ã ã£ãŸå¯èƒ½æ€§ãŒé«˜ã„ã€‚

### 3.3 æœ€çµ‚çµæœï¼ˆæˆåŠŸç‰ˆï¼‰

| æŒ‡æ¨™ | å€¤ |
|------|-----|
| ç·ã‚²ãƒ¼ãƒ æ•° | 10,006 |
| æœ€çµ‚ Policy Loss | 3.56 |
| æœ€çµ‚ Value Loss | 0.06 |
| æœ€çµ‚é€Ÿåº¦ | 15.6 g/s |
| æ‰€è¦æ™‚é–“ | 10.7 åˆ† |
| **Win Rate vs Random** | **0%** âš ï¸ |

---

## 4. åˆ†æ

### 4.1 ãªãœ Value Head ãŒåŠ¹ã„ãŸã‹

**å¾“æ¥ï¼ˆPolicy ã®ã¿ï¼‰:**
- ã€Œæ¬¡ã®æ‰‹ã€ã‚’äºˆæ¸¬ã™ã‚‹ã ã‘
- è‰¯ã„æ‰‹ã‹æ‚ªã„æ‰‹ã‹ã®åˆ¤æ–­åŸºæº–ãŒãªã„
- å­¦ç¿’ã«ã€Œç›®çš„ã€ãŒãªã„

**Value Head è¿½åŠ å¾Œ:**
- ã€Œã“ã®å±€é¢ã¯å‹ã¡/è² ã‘ã€ã¨ã„ã†æ˜ç¢ºãªä¿¡å·
- ãƒ¢ãƒ‡ãƒ«ãŒã€Œä½•ã‚’æœ€é©åŒ–ã™ã¹ãã‹ã€ã‚’å³åº§ã«ç†è§£
- å‹åˆ©ã«ç¹‹ãŒã‚‹æ‰‹ã‚’å„ªå…ˆçš„ã«å­¦ç¿’

> âš ï¸ **2026-01-19 è¿½è¨˜**: ã—ã‹ã—ã€ã€Œå‹åˆ©ã«ç¹‹ãŒã‚‹æ‰‹ã€ã¨ã—ã¦ã€Œãƒ‘ã‚¹é€£æ‰“ã€ã‚’å­¦ç¿’ã—ã¦ã—ã¾ã£ãŸã€‚

### 4.2 Information Continuity ã®åŠ¹æœ

Tromp-Taylor ã§ã¯çŸ³ãŒç›¤ä¸Šã‹ã‚‰æ¶ˆãˆãªã„ã€‚

**åŠ¹æœ:**
- Mamba ã® SSM State ã«ä¸€è²«ã—ãŸæ–‡è„ˆã‚’æä¾›
- å‹¾é…ã®æµã‚ŒãŒå®‰å®š
- å­¦ç¿’ã®åæŸãŒæ—©ã„

### 4.3 é€Ÿåº¦å‘ä¸Šã®è¦å› 

| è¦å›  | å¯„ä¸ |
|------|------|
| æ•ç²ãƒ­ã‚¸ãƒƒã‚¯å»ƒæ­¢ | â˜…â˜…â˜…â˜…â˜… |
| Python ãƒ«ãƒ¼ãƒ—æ’é™¤ | â˜…â˜…â˜…â˜…â˜… |
| ã‚²ãƒ¼ãƒ ã®åŠ¹ç‡åŒ– | â˜…â˜…â˜… |
| GPU åœ°è¨ˆç®— | â˜…â˜…â˜… |

---

## 5. æˆæœç‰©

### 5.1 ã‚³ãƒ¼ãƒ‰

| ãƒ•ã‚¡ã‚¤ãƒ« | èª¬æ˜ |
|----------|------|
| `chain_utils.py` | GPU åœ°è¨ˆç®—ï¼ˆæ–°è¦ï¼‰ |
| `gpu_go_engine.py` | Tromp-Taylor ç‰ˆã‚¨ãƒ³ã‚¸ãƒ³ |
| `train_phase3_2.py` | Policy + Value å­¦ç¿’ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆæˆåŠŸç‰ˆï¼‰ |
| `train_phase3_2_fixed.py` | Fixedç‰ˆå­¦ç¿’ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆè¿½åŠ ï¼‰ |

### 5.2 ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ

| ãƒ•ã‚¡ã‚¤ãƒ« | Loss | èª¬æ˜ |
|----------|------|------|
| `tessera_phase3.2_game4000.pth` | ~5.9 | ç›¸è»¢ç§»å‰ |
| `tessera_phase3.2_game6000.pth` | ~5.8 | ç›¸è»¢ç§»ç›´å¾Œï¼ˆâš ï¸å½ã®å¯èƒ½æ€§ï¼‰ |
| `tessera_phase3.2_final_loss3.58.pth` | 3.58 | æˆåŠŸç‰ˆæœ€çµ‚ï¼ˆâš ï¸å½æˆåŠŸã®ç–‘ã„ï¼‰ |
| `tessera_phase3.2_fixed_final_loss5.91.pth` | 5.91 | Fixedç‰ˆæœ€çµ‚ï¼ˆğŸ”„æ­£ã—ã„æ–¹å‘ï¼‰ |

### 5.3 Git ã‚³ãƒŸãƒƒãƒˆ
```
136706d Phase III.2: Tromp-Taylor + Value Head
```

---

## 6. æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ— (Phase III.3)

| Step | å†…å®¹ | ç›®çš„ |
|------|------|------|
| 1 | vs Random (100æˆ¦) | åŸºç¤æ€§èƒ½ç¢ºèª |
| 2 | vs Phase II | ä¸–ä»£é–“æ¯”è¼ƒ |
| 3 | Internal Score Consistency | å†…çœèƒ½åŠ›æ¸¬å®š |
| 4 | SGF Exporter | æ£‹è­œå¯è¦–åŒ– |

> âš ï¸ **2026-01-19 è¿½è¨˜**: Phase III.2 ãŒãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã•ã‚ŒãŸãŸã‚ã€Phase III.3 ã¯å¾…æ©Ÿä¸­ã€‚

---

## 7. æ•™è¨“

### 7.1 æŠ€è¡“çš„æ•™è¨“

> **ã€Œãƒ«ãƒ¼ãƒ«ã‚’ GPU ã«åˆã‚ã›ã¦å†è§£é‡ˆã™ã‚‹ã€**

è¤‡é›‘ãªãƒ«ãƒ¼ãƒ«ã‚’å¿ å®Ÿã«å®Ÿè£…ã™ã‚‹ã‚ˆã‚Šã€GPU ã®ç‰¹æ€§ã«åˆã‚ã›ã¦ãƒ«ãƒ¼ãƒ«ã‚’å†å®šç¾©ã™ã‚‹æ–¹ãŒã€çµæœçš„ã«å„ªã‚ŒãŸã‚·ã‚¹ãƒ†ãƒ ã«ãªã‚‹ã€‚

### 7.2 è¨­è¨ˆçš„æ•™è¨“

> **ã€Œå­¦ç¿’ä¿¡å·ã®æ˜ç¢ºåŒ–ãŒæœ€å„ªå…ˆã€**

é€Ÿåº¦ã‚„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚ˆã‚Šã€ã€Œä½•ã‚’å­¦ç¿’ã™ã¹ãã‹ã€ã‚’æ˜ç¢ºã«ã™ã‚‹ã“ã¨ãŒé‡è¦ã€‚Value Head ã®è¿½åŠ ãŒç›¸è»¢ç§»ã‚’å¼•ãèµ·ã“ã—ãŸã€‚

### 7.3 æ–‡åŒ–çš„æ•™è¨“

> **ã€Œè¨­è¨ˆæ›¸ã«å¾“ã†ã€ã§ã¯ãªãã€Œè¨­è¨ˆæ›¸ã‚’é€²åŒ–ã•ã›ã‚‹ã€**

å½“åˆã® Phase III è¨ˆç”»ï¼ˆé€£ã® GPU å®Ÿè£…ï¼‰ã«å›ºåŸ·ã›ãšã€ã‚ˆã‚Šè‰¯ã„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¸èˆµã‚’åˆ‡ã£ãŸã“ã¨ãŒæˆåŠŸã®éµã€‚

---

## 8. å½æˆåŠŸå•é¡Œã¨å¯¾ç­–ï¼ˆ2026-01-19 è¿½è¨˜ï¼‰

### 8.1 å•é¡Œã®ç™ºè¦š

æˆåŠŸç‰ˆï¼ˆLoss 3.58ï¼‰ã‚’ vs Random ã§è©•ä¾¡ã—ãŸã¨ã“ã‚ã€**Win Rate 0%** ãŒåˆ¤æ˜ã€‚

**èª¿æŸ»çµæœ:**
- ãƒ¢ãƒ‡ãƒ«ãŒãƒ‘ã‚¹é€£æ‰“ã§ã‚²ãƒ¼ãƒ ã‚’å³çµ‚äº†ã•ã›ã¦ã„ãŸ
- ç›¤é¢ã‚’èª­ã‚€å¿…è¦ãªãã€Loss ã‚’ä¸‹ã’ã‚‹ã€Œãƒãƒƒã‚¯ã€ã‚’å­¦ç¿’
- è¦‹ã‹ã‘ä¸Šã®ç›¸è»¢ç§»ã¯ã€Œãƒ‘ã‚¹é€£æ‰“ã‚’å­¦ç¿’ã—ãŸã€çµæœ

### 8.2 åŸå› åˆ†æ

| åŸå›  | èª¬æ˜ |
|------|------|
| ãƒ‘ã‚¹åˆ¶é™ãªã— | åºç›¤ã‹ã‚‰ãƒ‘ã‚¹ãŒå¯èƒ½ã ã£ãŸ |
| çµ‚å±€å³å ±é…¬ | ãƒ‘ã‚¹é€£æ‰“ã§å³åº§ã«å‹æ•—ãŒæ±ºã¾ã‚Šã€å ±é…¬ã‚’å¾—ã‚‰ã‚ŒãŸ |
| ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ä¸è¶³ | çµ‚å±€ç›´å‰ã®ã‚µãƒ³ãƒ—ãƒ«ã«åã‚Š |

### 8.3 å¯¾ç­–ï¼ˆFixedç‰ˆï¼‰

| å¯¾ç­– | èª¬æ˜ |
|------|------|
| **ãƒ‘ã‚¹åˆ¶é™** | 50æ‰‹ã¾ã§ã¯ãƒ‘ã‚¹ç¦æ­¢ |
| **8ç‚¹ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°** | ã‚²ãƒ¼ãƒ å…¨ä½“ã‹ã‚‰å‡ç­‰ã«ã‚µãƒ³ãƒ—ãƒ« |
| **ãƒ‘ã‚¹ãƒšãƒŠãƒ«ãƒ†ã‚£** | ãƒ‘ã‚¹é¸æŠã«å¯¾ã™ã‚‹ãƒšãƒŠãƒ«ãƒ†ã‚£ |

### 8.4 Fixedç‰ˆã®ç¾çŠ¶

| æŒ‡æ¨™ | å€¤ | å‚™è€ƒ |
|------|-----|------|
| Policy Loss | 5.91 | ç›¸è»¢ç§»å‰ï¼ˆå‡ç­‰åˆ†å¸ƒã«è¿‘ã„ï¼‰ |
| æ–¹å‘æ€§ | æ­£ã—ã„ | ãƒ‘ã‚¹é€£æ‰“ã¯æ¶ˆãˆãŸ |
| ç›¸è»¢ç§» | æœªé” | å­¦ç¿’ç¶™ç¶šãŒå¿…è¦ |

### 8.5 æ•™è¨“ï¼ˆè¿½åŠ ï¼‰

> **ã€ŒLoss ã®ä½ä¸‹ã‚’ç„¡æ‰¹åˆ¤ã«å–œã°ãªã„ã€**

Loss ãŒæ”¹å–„ã—ã¦ã‚‚ã€å®Ÿéš›ã®æ€§èƒ½ï¼ˆWin Rateï¼‰ãŒä¼´ã‚ãªã‘ã‚Œã°æ„å‘³ãŒãªã„ã€‚å¸¸ã« `eval_quick.py` ãªã©ã§å®šç‚¹è¦³æ¸¬ã‚’è¡Œã„ã€**æŒ™å‹•ã®å®šæ€§çš„ãªå¤‰åŒ–**ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã€‚

> **ã€Œå¥å…¨ãªåœæ»ã€ã¨ã„ã†æ¦‚å¿µ**

Loss ãŒåœæ»ã—ã¦ã„ã‚‹çŠ¶æ…‹ã¯ã€å¿…ãšã—ã‚‚æ‚ªã„ã“ã¨ã§ã¯ãªã„ã€‚ã€Œå˜˜ã‚’ã¤ã„ã¦ Loss ã‚’ä¸‹ã’ã‚‹ã€ã“ã¨ã‚’æ‹’çµ¶ã—ã€ç›¤é¢ã¨æ ¼é—˜ã—å§‹ã‚ãŸ**å¥å…¨ãªåœæ»**ã§ã‚ã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚‹ã€‚

---

## 9. Phase III.2 ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´ï¼ˆ2026-01-19ï¼‰

**å¤‰æ›´å‰:** Phase III.2 å®Œäº†ã€Phase III.3 é€²è¡Œä¸­

**å¤‰æ›´å¾Œ:** Phase III.2 é€²è¡Œä¸­ï¼ˆãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰

**ç†ç”±:** æˆåŠŸç‰ˆãŒå½æˆåŠŸã§ã‚ã‚‹ã“ã¨ãŒåˆ¤æ˜ã—ãŸãŸã‚ã€Fixedç‰ˆã§çœŸã®ç›¸è»¢ç§»ã‚’é”æˆã™ã‚‹ã¾ã§ Phase III.2 ã¯å®Œäº†ã¨ã¿ãªã•ãªã„ã€‚

**å®Œäº†æ¡ä»¶ï¼ˆå†å®šç¾©ï¼‰:**

| # | æ¡ä»¶ | ç¾çŠ¶ |
|---|------|------|
| 1 | Fixedç‰ˆã§ç›¸è»¢ç§»ï¼ˆLossæ€¥é™ä¸‹ï¼‰ | âŒ æœªé” |
| 2 | Win Rate vs Random > 0% | âŒ æœªé” |
| 3 | ãƒ‘ã‚¹é€£æ‰“ã§ãªã„æ­£å¸¸ãªå¯¾å±€ | ğŸ”„ ç¢ºèªä¸­ |

---

*"Le symbole donne Ã  penser."* â€” Paul RicÅ“ur

â€” End of Document â€”
